# 코루틴이란?

## 개요

안드로이드 비동기 처리를 할 때 모두 한 번쯤 들어봤을 것이다. 흐흐..

오늘은 코루틴에 대해 알아보자잇!



## 코루틴은 짱

- 코루틴은 경량화(light-weight)된 쓰레드다.
- 코루틴은 동시성 프로그래밍이다.

### 코루틴은 경량화된 쓰레드(light-weight)

다음은 마리오 아리아스란 사람이 쓴 '함수형 코틀린'에 나오는 구문이다.

![image](https://user-images.githubusercontent.com/90879448/189837746-60c0d87e-8041-4317-bc02-1ee2ba4574dd.png)

와우🤔 대단하다. 너무너무나 가볍다. 이게 가능한 이유는 동시성 프로그래밍이기 때문이기도 하다.

### 코루틴은 동시성 프로그래밍이다.

병렬성 프로그래밍과 동시성 프로그래밍에 대해 먼저 알아봅시다.

병렬성 프로그래밍은 여러개의 쓰레드에서 동시에 비동기 작업을 합니다.

동시성 프로그래밍은 하나에 쓰레드에서 비동기 작업을 합니다.

예를 들자면 동시에 무언가를 할 때 A 작업을 했다가 멈췄다가 B 작업을 했다가 멈췄다가를 반복하는 것을 빠르게 하는 것이 동시성 프로그래밍인 것이고, 동시에 A작업과 B작업을 하는 것을 병렬성 프로그래밍이라고 합니다.

***그렇다면 왜? 동시성 프로그래밍일까요?***

이유는 이렇습니다. CPU는 하나입니다. 하지만 병렬성 프로그래밍은 여러개의 쓰레드를 사용합니다.(CPU가 아파요..ㅠㅠ😢) 하지만 동시성 프로그래밍은 하나의 쓰레드 안에서 루틴들을 교환하기 때문에 리소스 낭비가 덜합니다. 

### 비동기의 짱짱이다?

음.. 기억나나요 우리 *콜백*하던 순간...

 비동기를 하기 위해 Rx와 콜백이라는 방법들이 존재한다.

하지만 콜백 방식은 콜백지옥을 유발할 수 있고

Rx는 계속해서 Stream을 써줘야한다. 이는 유지보수가 어렵다는 단점이 있다. 

반면에 코루틴은 **순차적이고 구조화된 문법**과 **코루틴 Flow**로 이 단점들을 해결할 수가 있다!!!...



## 마치며..

이번 글로 코루틴의 장점에 대해 알아보았다. 코루틴을 도입하면 단점보다는 장점이 더 많을 것이다. 한 번 써봐라! 후회하지 않을 것이다. 



